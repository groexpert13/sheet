# Маркетинговая диагностика (Next.js 13)

Демо-приложение на Next.js 13 (App Router, TypeScript, Tailwind, Radix UI). Содержит пошаговую диагностику: продукты, компетенции, инструменты, финмодель и план действий.

## Локальный запуск

```bash
npm install
npm run dev
```
Откройте http://localhost:3000

### Переменные окружения

Для работы AI-ассистента (панель внизу справа) нужен ключ OpenAI:

1. Создайте файл `.env.local` в корне проекта
2. Добавьте строку `OPENAI_API_KEY=sk-...`

Маршрут `POST /api/ai` использует OpenAI Responses API (stream), модель по умолчанию `gpt-4.1-mini`.

## Сборка и запуск продакшн

```bash
npm run build
npm start
```

## Готово к деплою на Vercel

- Проект настроен под нативный рантайм Vercel для Next.js. В `next.config.js` нет `output: 'export'`.
- Переменные окружения не требуются, так как это демо.
- Рекомендуемый способ деплоя: подключить GitHub-репозиторий к Vercel и выбрать фреймворк Next.js.

### Шаги деплоя через GitHub
1. Создайте пустой репозиторий на GitHub и скопируйте URL (например, `https://github.com/groexpert13/sheet.git`).
2. Инициализируйте и запушьте код (см. команды ниже).
3. В Vercel нажмите "New Project" → импортируйте репозиторий → подтвердите настройки → Deploy.

## Команды npm

- `npm run dev` — локальная разработка
- `npm run build` — сборка
- `npm run start` — запуск собранного приложения
- `npm run lint` — линтинг

## Технический стек
- Next.js 13.5 (App Router)
- React 18 + TypeScript
- Tailwind CSS + Radix UI
- shadcn/ui компоненты

## Примечания
- В приложении используется `localStorage` для сохранения данных диагностики. Все страницы, работающие с браузером, помечены `"use client"`.
- Для экспорта отчёта используется печать окна браузера. Для стабильного PDF можно позже добавить специализированную библиотеку.
- AI-панель хранит историю диалога в `localStorage` раздельно для каждого аккаунта (`authUser.email`). Данные диагностики подхватываются автоматически и передаются в модель при каждом запросе.
